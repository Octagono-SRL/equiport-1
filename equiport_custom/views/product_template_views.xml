<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="product_template_product_form_equiport_inherit" model="ir.ui.view">
            <field name="name">product.template.product.form.equiport.inherit</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_form_view"/>
            <field name="arch" type="xml">

                <field name="categ_id" position="after">
                    <field name="is_tool" attrs="{'invisible':[('type', '!=', 'product')]}"/>
                </field>

                <xpath expr="//sheet/notebook/page[@name='general_information']/group" position="after">
                    <group attrs="{'invisible':[('type', '!=', 'product')]}">
                        <group name="tool_details" string="Detalles de Herramienta" attrs="{'invisible':[('is_tool', '=', False)]}">
                            <field name="assign_user_id" attrs="{'required':[('is_tool', '=', True)]}"/>
                        </group>

                        <group name="unit_details" string="Detalles de Unidad" attrs="{'invisible':[('is_tool', '=', True)]}">
                            <field name="unit_type"/>
                            <field name="container_type"
                                   attrs="{'invisible':[('unit_type', '!=', 'container')], 'required':[('unit_type', '=', 'container')]}"/>
                            <field name="unit_brand" attrs="{'required':[('unit_type', '!=', False)]}"/>
                            <field name="unit_model" attrs="{'required':[('unit_type', '!=', False)]}"/>
                            <field name="unit_year" attrs="{'required':[('unit_type', '!=', False)]}"/>
                        </group>
                    </group>
                </xpath>

                <xpath expr="//sheet/notebook" position="inside">
                    <page string="Gate In/Gate Out" name="gate_in_out" attrs="{'invisible':['|', ('type', '!=', 'product'), '|', ('sale_ok', '=',True), '|',('purchase_ok', '=',True), ('rent_ok', '=',True)]}">
                        <group>
                            <group name="owner_info" string="Información de propietario">
                                <field name="external_owner"/>
                                <field name="owner_partner_id"/>
                            </group>

                            <group name="gate_info" string="Información del servicio">
                                <field name="gate_in_date"/>
                                <field name="gate_out_date"/>
                                <field name="storage_rate"/>
                            </group>
                        </group>

                    </page>
                </xpath>


            </field>
        </record>


    </data>
</odoo>